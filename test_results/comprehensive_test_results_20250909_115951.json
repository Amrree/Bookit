{
  "timestamp": "2025-09-09T11:58:53.246095",
  "test_suites": [
    {
      "name": "Core Functionality",
      "file": "tests/test_core_functionality.py",
      "category": "unit",
      "status": "PASSED",
      "duration": 5.847637176513672,
      "passed": 32,
      "failed": 0,
      "skipped": 2,
      "errors": 0,
      "total": 34,
      "returncode": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 34 items\n\ntests/test_core_functionality.py::TestCoreImports::test_memory_manager_import PASSED [  2%]\ntests/test_core_functionality.py::TestCoreImports::test_llm_client_import PASSED [  5%]\ntests/test_core_functionality.py::TestCoreImports::test_tool_manager_import PASSED [  8%]\ntests/test_core_functionality.py::TestCoreImports::test_agent_manager_import PASSED [ 11%]\ntests/test_core_functionality.py::TestCoreImports::test_agents_import PASSED [ 14%]\ntests/test_core_functionality.py::TestCoreImports::test_document_ingestor_import PASSED [ 17%]\ntests/test_core_functionality.py::TestCoreImports::test_book_workflow_import PASSED [ 20%]\ntests/test_core_functionality.py::TestCoreImports::test_cli_import PASSED [ 23%]\ntests/test_core_functionality.py::TestCoreImports::test_gui_import SKIPPED [ 26%]\ntests/test_core_functionality.py::TestMemoryManagerCore::test_memory_manager_creation PASSED [ 29%]\ntests/test_core_functionality.py::TestMemoryManagerCore::test_memory_entry_creation PASSED [ 32%]\ntests/test_core_functionality.py::TestMemoryManagerCore::test_retrieval_result_creation PASSED [ 35%]\ntests/test_core_functionality.py::TestLLMClientCore::test_llm_client_creation PASSED [ 38%]\ntests/test_core_functionality.py::TestLLMClientCore::test_llm_client_attributes PASSED [ 41%]\ntests/test_core_functionality.py::TestToolManagerCore::test_tool_manager_creation PASSED [ 44%]\ntests/test_core_functionality.py::TestToolManagerCore::test_tool_definition_creation PASSED [ 47%]\ntests/test_core_functionality.py::TestToolManagerCore::test_tool_request_creation PASSED [ 50%]\ntests/test_core_functionality.py::TestAgentManagerCore::test_agent_manager_creation PASSED [ 52%]\ntests/test_core_functionality.py::TestAgentManagerCore::test_agent_status_enum PASSED [ 55%]\ntests/test_core_functionality.py::TestAgentManagerCore::test_task_status_enum PASSED [ 58%]\ntests/test_core_functionality.py::TestDocumentIngestorCore::test_document_ingestor_creation PASSED [ 61%]\ntests/test_core_functionality.py::TestDocumentIngestorCore::test_supported_formats PASSED [ 64%]\ntests/test_core_functionality.py::TestBookWorkflowCore::test_book_workflow_creation PASSED [ 67%]\ntests/test_core_functionality.py::TestCLICore::test_cli_module_structure PASSED [ 70%]\ntests/test_core_functionality.py::TestCLICore::test_cli_commands_available PASSED [ 73%]\ntests/test_core_functionality.py::TestGUICore::test_gui_module_structure SKIPPED [ 76%]\ntests/test_core_functionality.py::TestIntegrationCore::test_module_interconnections PASSED [ 79%]\ntests/test_core_functionality.py::TestIntegrationCore::test_data_flow_compatibility PASSED [ 82%]\ntests/test_core_functionality.py::TestErrorHandling::test_memory_manager_error_handling PASSED [ 85%]\ntests/test_core_functionality.py::TestErrorHandling::test_llm_client_error_handling PASSED [ 88%]\ntests/test_core_functionality.py::TestErrorHandling::test_tool_manager_error_handling PASSED [ 91%]\ntests/test_core_functionality.py::TestPerformance::test_memory_manager_performance PASSED [ 94%]\ntests/test_core_functionality.py::TestPerformance::test_llm_client_performance PASSED [ 97%]\ntests/test_core_functionality.py::TestPerformance::test_tool_manager_performance PASSED [100%]\n\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 10 durations =============================\n0.39s call     tests/test_core_functionality.py::TestMemoryManagerCore::test_memory_manager_creation\n0.33s call     tests/test_core_functionality.py::TestIntegrationCore::test_module_interconnections\n0.28s call     tests/test_core_functionality.py::TestErrorHandling::test_memory_manager_error_handling\n0.26s call     tests/test_core_functionality.py::TestPerformance::test_memory_manager_performance\n0.02s call     tests/test_core_functionality.py::TestCoreImports::test_gui_import\n0.00s call     tests/test_core_functionality.py::TestCoreImports::test_cli_import\n0.00s call     tests/test_core_functionality.py::TestLLMClientCore::test_llm_client_creation\n0.00s call     tests/test_core_functionality.py::TestErrorHandling::test_llm_client_error_handling\n0.00s call     tests/test_core_functionality.py::TestLLMClientCore::test_llm_client_attributes\n0.00s call     tests/test_core_functionality.py::TestPerformance::test_llm_client_performance\n=================== 32 passed, 2 skipped, 1 warning in 1.32s ===================\n",
      "stderr": ""
    },
    {
      "name": "Memory Operations",
      "file": "tests/test_memory_operations.py",
      "category": "unit",
      "status": "PASSED",
      "duration": 6.198218822479248,
      "passed": 29,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 29,
      "returncode": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 29 items\n\ntests/test_memory_operations.py::TestMemoryOperations::test_memory_manager_initialization PASSED [  3%]\ntests/test_memory_operations.py::TestMemoryOperations::test_memory_manager_stats PASSED [  6%]\ntests/test_memory_operations.py::TestMemoryOperations::test_memory_clear_operation PASSED [ 10%]\ntests/test_memory_operations.py::TestMemoryOperations::test_memory_entry_validation PASSED [ 13%]\ntests/test_memory_operations.py::TestMemoryOperations::test_retrieval_result_validation PASSED [ 17%]\ntests/test_memory_operations.py::TestLLMOperations::test_llm_client_initialization PASSED [ 20%]\ntests/test_memory_operations.py::TestLLMOperations::test_llm_client_providers PASSED [ 24%]\ntests/test_memory_operations.py::TestLLMOperations::test_llm_generate_with_mock PASSED [ 27%]\ntests/test_memory_operations.py::TestToolOperations::test_tool_manager_initialization PASSED [ 31%]\ntests/test_memory_operations.py::TestToolOperations::test_tool_manager_stats PASSED [ 34%]\ntests/test_memory_operations.py::TestToolOperations::test_tool_definition_validation PASSED [ 37%]\ntests/test_memory_operations.py::TestToolOperations::test_tool_request_validation PASSED [ 41%]\ntests/test_memory_operations.py::TestToolOperations::test_tool_response_validation PASSED [ 44%]\ntests/test_memory_operations.py::TestAgentOperations::test_agent_manager_initialization PASSED [ 48%]\ntests/test_memory_operations.py::TestAgentOperations::test_agent_status_enum_values PASSED [ 51%]\ntests/test_memory_operations.py::TestAgentOperations::test_task_status_enum_values PASSED [ 55%]\ntests/test_memory_operations.py::TestAgentOperations::test_agent_task_validation PASSED [ 58%]\ntests/test_memory_operations.py::TestDocumentOperations::test_document_ingestor_initialization PASSED [ 62%]\ntests/test_memory_operations.py::TestDocumentOperations::test_supported_formats PASSED [ 65%]\ntests/test_memory_operations.py::TestBookWorkflowOperations::test_book_metadata_creation PASSED [ 68%]\ntests/test_memory_operations.py::TestBookWorkflowOperations::test_chapter_metadata_creation PASSED [ 72%]\ntests/test_memory_operations.py::TestIntegrationOperations::test_memory_tool_integration PASSED [ 75%]\ntests/test_memory_operations.py::TestIntegrationOperations::test_agent_memory_integration PASSED [ 79%]\ntests/test_memory_operations.py::TestErrorHandling::test_memory_error_handling PASSED [ 82%]\ntests/test_memory_operations.py::TestErrorHandling::test_tool_error_handling PASSED [ 86%]\ntests/test_memory_operations.py::TestErrorHandling::test_llm_error_handling PASSED [ 89%]\ntests/test_memory_operations.py::TestPerformance::test_memory_initialization_performance PASSED [ 93%]\ntests/test_memory_operations.py::TestPerformance::test_tool_initialization_performance PASSED [ 96%]\ntests/test_memory_operations.py::TestPerformance::test_agent_initialization_performance PASSED [100%]\n\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 10 durations =============================\n0.40s call     tests/test_memory_operations.py::TestMemoryOperations::test_memory_manager_initialization\n0.31s call     tests/test_memory_operations.py::TestIntegrationOperations::test_agent_memory_integration\n0.30s call     tests/test_memory_operations.py::TestMemoryOperations::test_memory_clear_operation\n0.29s call     tests/test_memory_operations.py::TestPerformance::test_memory_initialization_performance\n0.27s call     tests/test_memory_operations.py::TestIntegrationOperations::test_memory_tool_integration\n0.27s call     tests/test_memory_operations.py::TestErrorHandling::test_memory_error_handling\n0.27s call     tests/test_memory_operations.py::TestMemoryOperations::test_memory_manager_stats\n0.00s call     tests/test_memory_operations.py::TestLLMOperations::test_llm_generate_with_mock\n0.00s call     tests/test_memory_operations.py::TestLLMOperations::test_llm_client_initialization\n0.00s call     tests/test_memory_operations.py::TestLLMOperations::test_llm_client_providers\n======================== 29 passed, 1 warning in 2.13s =========================\n",
      "stderr": ""
    },
    {
      "name": "Simple Tests",
      "file": "tests/test_simple.py",
      "category": "unit",
      "status": "PASSED",
      "duration": 4.766399383544922,
      "passed": 9,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 9,
      "returncode": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 10 items\n\ntests/test_simple.py::TestSimple::test_basic_imports PASSED              [ 10%]\ntests/test_simple.py::TestSimple::test_memory_manager_creation PASSED    [ 20%]\ntests/test_simple.py::TestSimple::test_llm_client_creation PASSED        [ 30%]\ntests/test_simple.py::TestSimple::test_tool_manager_creation PASSED      [ 40%]\ntests/test_simple.py::TestSimple::test_agent_imports PASSED              [ 50%]\ntests/test_simple.py::TestSimple::test_book_workflow_import PASSED       [ 60%]\ntests/test_simple.py::TestSimple::test_document_ingestor_import PASSED   [ 70%]\ntests/test_simple.py::TestSimple::test_cli_import PASSED                 [ 80%]\ntests/test_simple.py::TestSimple::test_gui_import SKIPPED (PyQt6 not\ninstalled - GUI module not available)                                    [ 90%]\ntests/test_simple.py::TestSimple::test_basic_functionality PASSED        [100%]\n\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 10 durations =============================\n0.40s call     tests/test_simple.py::TestSimple::test_memory_manager_creation\n0.02s call     tests/test_simple.py::TestSimple::test_gui_import\n0.00s call     tests/test_simple.py::TestSimple::test_llm_client_creation\n0.00s call     tests/test_simple.py::TestSimple::test_cli_import\n0.00s call     tests/test_simple.py::TestSimple::test_tool_manager_creation\n0.00s setup    tests/test_simple.py::TestSimple::test_basic_imports\n0.00s call     tests/test_simple.py::TestSimple::test_basic_functionality\n0.00s setup    tests/test_simple.py::TestSimple::test_llm_client_creation\n0.00s call     tests/test_simple.py::TestSimple::test_basic_imports\n0.00s teardown tests/test_simple.py::TestSimple::test_gui_import\n=================== 9 passed, 1 skipped, 1 warning in 0.43s ====================\n",
      "stderr": ""
    },
    {
      "name": "GUI Comprehensive",
      "file": "tests/test_gui_comprehensive.py",
      "category": "integration",
      "status": "FAILED",
      "duration": 4.153140068054199,
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "returncode": 2,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n_______________ ERROR collecting tests/test_gui_comprehensive.py _______________\nImportError while importing test module '/workspace/tests/test_gui_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/python.py:498: in importtestmodule\n    mod = import_path(\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests/test_gui_comprehensive.py:16: in <module>\n    from gui import MainWindow, ConfigurationDialog, SystemWorker\ngui.py:23: in <module>\n    from PyQt6.QtWidgets import (\nE   ImportError: cannot import name 'QAction' from 'PyQt6.QtWidgets' (/home/ubuntu/.local/lib/python3.13/site-packages/PyQt6/QtWidgets.abi3.so)\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nERROR tests/test_gui_comprehensive.py\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n========================= 1 warning, 1 error in 0.12s ==========================\n",
      "stderr": ""
    },
    {
      "name": "Document Ingestor Comprehensive",
      "file": "tests/test_document_ingestor_comprehensive.py",
      "category": "unit",
      "status": "PASSED",
      "duration": 4.090800046920776,
      "passed": 35,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 35,
      "returncode": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 35 items\n\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestorCore::test_ingestor_initialization PASSED [  2%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestorCore::test_supported_formats PASSED [  5%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestorCore::test_format_detection PASSED [  8%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestorCore::test_unsupported_format PASSED [ 11%]\ntests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_metadata_extraction PASSED [ 14%]\ntests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_text_extraction PASSED [ 17%]\ntests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_multiple_pages PASSED [ 20%]\ntests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_error_handling PASSED [ 22%]\ntests/test_document_ingestor_comprehensive.py::TestTXTProcessing::test_txt_metadata_extraction PASSED [ 25%]\ntests/test_document_ingestor_comprehensive.py::TestTXTProcessing::test_txt_text_extraction PASSED [ 28%]\ntests/test_document_ingestor_comprehensive.py::TestTXTProcessing::test_txt_encoding_handling PASSED [ 31%]\ntests/test_document_ingestor_comprehensive.py::TestMarkdownProcessing::test_md_metadata_extraction PASSED [ 34%]\ntests/test_document_ingestor_comprehensive.py::TestMarkdownProcessing::test_md_text_extraction PASSED [ 37%]\ntests/test_document_ingestor_comprehensive.py::TestMarkdownProcessing::test_md_frontmatter_handling PASSED [ 40%]\ntests/test_document_ingestor_comprehensive.py::TestDOCXProcessing::test_docx_metadata_extraction PASSED [ 42%]\ntests/test_document_ingestor_comprehensive.py::TestDOCXProcessing::test_docx_text_extraction PASSED [ 45%]\ntests/test_document_ingestor_comprehensive.py::TestDOCXProcessing::test_docx_error_handling PASSED [ 48%]\ntests/test_document_ingestor_comprehensive.py::TestEPUBProcessing::test_epub_metadata_extraction PASSED [ 51%]\ntests/test_document_ingestor_comprehensive.py::TestEPUBProcessing::test_epub_text_extraction PASSED [ 54%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentMetadata::test_metadata_creation PASSED [ 57%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentMetadata::test_metadata_validation PASSED [ 60%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_pdf_ingestion PASSED [ 62%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_txt_ingestion PASSED [ 65%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_md_ingestion PASSED [ 68%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_docx_ingestion PASSED [ 71%]\ntests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_epub_ingestion PASSED [ 74%]\ntests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_nonexistent_file PASSED [ 77%]\ntests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_corrupted_pdf PASSED [ 80%]\ntests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_corrupted_docx PASSED [ 82%]\ntests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_permission_error PASSED [ 85%]\ntests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_encoding_error PASSED [ 88%]\ntests/test_document_ingestor_comprehensive.py::TestPerformance::test_large_file_handling PASSED [ 91%]\ntests/test_document_ingestor_comprehensive.py::TestPerformance::test_ingestion_performance PASSED [ 94%]\ntests/test_document_ingestor_comprehensive.py::TestIntegration::test_memory_manager_integration PASSED [ 97%]\ntests/test_document_ingestor_comprehensive.py::TestIntegration::test_agent_integration PASSED [100%]\n\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 10 durations =============================\n0.01s call     tests/test_document_ingestor_comprehensive.py::TestPerformance::test_large_file_handling\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_docx_ingestion\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_pdf_ingestion\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_metadata_extraction\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_encoding_error\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestDocumentIngestion::test_epub_ingestion\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_error_handling\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestPDFProcessing::test_pdf_multiple_pages\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_corrupted_docx\n0.00s call     tests/test_document_ingestor_comprehensive.py::TestErrorHandling::test_corrupted_pdf\n======================== 35 passed, 1 warning in 0.06s =========================\n",
      "stderr": ""
    },
    {
      "name": "Memory Manager Comprehensive",
      "file": "tests/test_memory_manager_comprehensive.py",
      "category": "unit",
      "status": "PASSED",
      "duration": 14.949172735214233,
      "passed": 30,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 30,
      "returncode": 0,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 30 items\n\ntests/test_memory_manager_comprehensive.py::TestMemoryManagerCore::test_memory_manager_initialization PASSED [  3%]\ntests/test_memory_manager_comprehensive.py::TestMemoryManagerCore::test_memory_manager_configuration PASSED [  6%]\ntests/test_memory_manager_comprehensive.py::TestMemoryManagerCore::test_memory_manager_stats PASSED [ 10%]\ntests/test_memory_manager_comprehensive.py::TestMemoryEntry::test_memory_entry_creation PASSED [ 13%]\ntests/test_memory_manager_comprehensive.py::TestMemoryEntry::test_memory_entry_validation PASSED [ 16%]\ntests/test_memory_manager_comprehensive.py::TestMemoryEntry::test_memory_entry_metadata PASSED [ 20%]\ntests/test_memory_manager_comprehensive.py::TestRetrievalResult::test_retrieval_result_creation PASSED [ 23%]\ntests/test_memory_manager_comprehensive.py::TestRetrievalResult::test_retrieval_result_validation PASSED [ 26%]\ntests/test_memory_manager_comprehensive.py::TestDocumentStorage::test_store_document_chunks PASSED [ 30%]\ntests/test_memory_manager_comprehensive.py::TestDocumentStorage::test_store_single_chunk PASSED [ 33%]\ntests/test_memory_manager_comprehensive.py::TestDocumentStorage::test_store_empty_chunks PASSED [ 36%]\ntests/test_memory_manager_comprehensive.py::TestDocumentRetrieval::test_retrieve_relevant_chunks PASSED [ 40%]\ntests/test_memory_manager_comprehensive.py::TestDocumentRetrieval::test_retrieve_with_filters PASSED [ 43%]\ntests/test_memory_manager_comprehensive.py::TestDocumentRetrieval::test_retrieve_empty_database PASSED [ 46%]\ntests/test_memory_manager_comprehensive.py::TestRAGPipeline::test_complete_rag_pipeline PASSED [ 50%]\ntests/test_memory_manager_comprehensive.py::TestRAGPipeline::test_context_assembly PASSED [ 53%]\ntests/test_memory_manager_comprehensive.py::TestRAGPipeline::test_context_length_management PASSED [ 56%]\ntests/test_memory_manager_comprehensive.py::TestMemoryOperations::test_add_agent_notes PASSED [ 60%]\ntests/test_memory_manager_comprehensive.py::TestMemoryOperations::test_search_by_tags PASSED [ 63%]\ntests/test_memory_manager_comprehensive.py::TestMemoryOperations::test_get_stats PASSED [ 66%]\ntests/test_memory_manager_comprehensive.py::TestMemoryOperations::test_clear_memory PASSED [ 70%]\ntests/test_memory_manager_comprehensive.py::TestErrorHandling::test_invalid_chunk_data PASSED [ 73%]\ntests/test_memory_manager_comprehensive.py::TestErrorHandling::test_retrieval_with_invalid_query PASSED [ 76%]\ntests/test_memory_manager_comprehensive.py::TestErrorHandling::test_retrieval_with_invalid_parameters PASSED [ 80%]\ntests/test_memory_manager_comprehensive.py::TestPerformance::test_large_document_handling PASSED [ 83%]\ntests/test_memory_manager_comprehensive.py::TestPerformance::test_retrieval_performance PASSED [ 86%]\ntests/test_memory_manager_comprehensive.py::TestPerformance::test_concurrent_operations PASSED [ 90%]\ntests/test_memory_manager_comprehensive.py::TestIntegration::test_llm_client_integration PASSED [ 93%]\ntests/test_memory_manager_comprehensive.py::TestIntegration::test_agent_integration PASSED [ 96%]\ntests/test_memory_manager_comprehensive.py::TestIntegration::test_document_ingestor_integration PASSED [100%]\n\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\ntests/test_memory_manager_comprehensive.py::TestMemoryOperations::test_add_agent_notes\ntests/test_memory_manager_comprehensive.py::TestIntegration::test_agent_integration\n  /workspace/memory_manager.py:334: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/\n    metadata_dict = memory_entry.dict()\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 10 durations =============================\n0.66s setup    tests/test_memory_manager_comprehensive.py::TestErrorHandling::test_retrieval_with_invalid_parameters\n0.65s setup    tests/test_memory_manager_comprehensive.py::TestPerformance::test_concurrent_operations\n0.62s call     tests/test_memory_manager_comprehensive.py::TestPerformance::test_large_document_handling\n0.60s setup    tests/test_memory_manager_comprehensive.py::TestMemoryManagerCore::test_memory_manager_configuration\n0.42s setup    tests/test_memory_manager_comprehensive.py::TestMemoryManagerCore::test_memory_manager_initialization\n0.37s setup    tests/test_memory_manager_comprehensive.py::TestPerformance::test_retrieval_performance\n0.36s setup    tests/test_memory_manager_comprehensive.py::TestDocumentStorage::test_store_document_chunks\n0.36s setup    tests/test_memory_manager_comprehensive.py::TestIntegration::test_agent_integration\n0.36s setup    tests/test_memory_manager_comprehensive.py::TestIntegration::test_document_ingestor_integration\n0.35s setup    tests/test_memory_manager_comprehensive.py::TestMemoryOperations::test_add_agent_notes\n======================= 30 passed, 3 warnings in 10.52s ========================\n",
      "stderr": ""
    },
    {
      "name": "LLM Client Comprehensive",
      "file": "tests/test_llm_client_comprehensive.py",
      "category": "unit",
      "status": "FAILED",
      "duration": 5.526509046554565,
      "passed": 6,
      "failed": 29,
      "skipped": 0,
      "errors": 0,
      "total": 35,
      "returncode": 1,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 35 items\n\ntests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_initialization FAILED [  2%]\ntests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_configuration FAILED [  5%]\ntests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_providers FAILED [  8%]\ntests/test_llm_client_comprehensive.py::TestLLMRequest::test_llm_request_creation PASSED [ 11%]\ntests/test_llm_client_comprehensive.py::TestLLMRequest::test_llm_request_defaults FAILED [ 14%]\ntests/test_llm_client_comprehensive.py::TestLLMRequest::test_llm_request_validation PASSED [ 17%]\ntests/test_llm_client_comprehensive.py::TestLLMResponse::test_llm_response_creation PASSED [ 20%]\ntests/test_llm_client_comprehensive.py::TestLLMResponse::test_llm_response_defaults FAILED [ 22%]\ntests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_generate FAILED [ 25%]\ntests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_error_handling FAILED [ 28%]\ntests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_rate_limiting FAILED [ 31%]\ntests/test_llm_client_comprehensive.py::TestOllamaProvider::test_ollama_generate FAILED [ 34%]\ntests/test_llm_client_comprehensive.py::TestOllamaProvider::test_ollama_connection_error FAILED [ 37%]\ntests/test_llm_client_comprehensive.py::TestOllamaProvider::test_ollama_server_error FAILED [ 40%]\ntests/test_llm_client_comprehensive.py::TestProviderSelection::test_primary_provider_selection FAILED [ 42%]\ntests/test_llm_client_comprehensive.py::TestProviderSelection::test_provider_availability FAILED [ 45%]\ntests/test_llm_client_comprehensive.py::TestProviderSelection::test_provider_fallback FAILED [ 48%]\ntests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_request_object FAILED [ 51%]\ntests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_parameters FAILED [ 54%]\ntests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_context FAILED [ 57%]\ntests/test_llm_client_comprehensive.py::TestStreamingGeneration::test_stream_generate_openai FAILED [ 60%]\ntests/test_llm_client_comprehensive.py::TestStreamingGeneration::test_stream_generate_ollama FAILED [ 62%]\ntests/test_llm_client_comprehensive.py::TestErrorHandling::test_invalid_request FAILED [ 65%]\ntests/test_llm_client_comprehensive.py::TestErrorHandling::test_provider_unavailable FAILED [ 68%]\ntests/test_llm_client_comprehensive.py::TestErrorHandling::test_network_timeout FAILED [ 71%]\ntests/test_llm_client_comprehensive.py::TestErrorHandling::test_invalid_response_format FAILED [ 74%]\ntests/test_llm_client_comprehensive.py::TestPerformance::test_generation_performance FAILED [ 77%]\ntests/test_llm_client_comprehensive.py::TestPerformance::test_concurrent_generation FAILED [ 80%]\ntests/test_llm_client_comprehensive.py::TestPerformance::test_large_prompt_handling FAILED [ 82%]\ntests/test_llm_client_comprehensive.py::TestIntegration::test_memory_manager_integration FAILED [ 85%]\ntests/test_llm_client_comprehensive.py::TestIntegration::test_agent_integration PASSED [ 88%]\ntests/test_llm_client_comprehensive.py::TestIntegration::test_tool_manager_integration PASSED [ 91%]\ntests/test_llm_client_comprehensive.py::TestConfiguration::test_environment_variable_loading FAILED [ 94%]\ntests/test_llm_client_comprehensive.py::TestConfiguration::test_configuration_validation FAILED [ 97%]\ntests/test_llm_client_comprehensive.py::TestConfiguration::test_model_validation PASSED [100%]\n\n=================================== FAILURES ===================================\n_______________ TestLLMClientCore.test_llm_client_initialization _______________\ntests/test_llm_client_comprehensive.py:27: in test_llm_client_initialization\n    assert hasattr(client, 'openai_client')\nE   AssertionError: assert False\nE    +  where False = hasattr(<llm_client.LLMClient object at 0x7fef4dba4ec0>, 'openai_client')\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,461 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dba5fd0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,461 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,461 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dba5fd0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_______________ TestLLMClientCore.test_llm_client_configuration ________________\ntests/test_llm_client_comprehensive.py:39: in test_llm_client_configuration\n    assert client.openai_api_key == \"test_key\"\n           ^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'LLMClient' object has no attribute 'openai_api_key'\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,496 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dbd5810>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,496 - llm_client - INFO - LLM client initialized with primary provider: openai\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dbd5810>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: openai\n_________________ TestLLMClientCore.test_llm_client_providers __________________\ntests/test_llm_client_comprehensive.py:47: in test_llm_client_providers\n    assert \"openai\" in client.providers\nE   AssertionError: assert 'openai' in {'ollama': <llm_client.OllamaProvider object at 0x7fef4dbd5bd0>}\nE    +  where {'ollama': <llm_client.OllamaProvider object at 0x7fef4dbd5bd0>} = <llm_client.LLMClient object at 0x7fef4dbd5590>.providers\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,502 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dbd5f90>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,503 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,503 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dbd5f90>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n___________________ TestLLMRequest.test_llm_request_defaults ___________________\ntests/test_llm_client_comprehensive.py:73: in test_llm_request_defaults\n    assert request.max_tokens == 1000  # Default value\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: assert 2000 == 1000\nE    +  where 2000 = LLMRequest(prompt='Test prompt', model=None, max_tokens=2000, temperature=0.7, system_message=None, functions=None, function_call=None).max_tokens\n__________________ TestLLMResponse.test_llm_response_defaults __________________\ntests/test_llm_client_comprehensive.py:109: in test_llm_response_defaults\n    response = LLMResponse(content=\"Test content\")\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   pydantic_core._pydantic_core.ValidationError: 2 validation errors for LLMResponse\nE   model\nE     Field required [type=missing, input_value={'content': 'Test content'}, input_type=dict]\nE       For further information visit https://errors.pydantic.dev/2.11/v/missing\nE   provider\nE     Field required [type=missing, input_value={'content': 'Test content'}, input_type=dict]\nE       For further information visit https://errors.pydantic.dev/2.11/v/missing\n___________________ TestOpenAIProvider.test_openai_generate ____________________\ntests/test_llm_client_comprehensive.py:141: in test_openai_generate\n    with patch.object(llm_client.openai_client.chat.completions, 'create', return_value=mock_response):\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'LLMClient' object has no attribute 'openai_client'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,522 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da1f100>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,522 - llm_client - INFO - LLM client initialized with primary provider: openai\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da1f100>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: openai\n________________ TestOpenAIProvider.test_openai_error_handling _________________\ntests/test_llm_client_comprehensive.py:160: in test_openai_error_handling\n    with patch.object(llm_client.openai_client.chat.completions, 'create', side_effect=Exception(\"OpenAI API error\")):\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'LLMClient' object has no attribute 'openai_client'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,532 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da1f100>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,532 - llm_client - INFO - LLM client initialized with primary provider: openai\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da1f100>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: openai\n_________________ TestOpenAIProvider.test_openai_rate_limiting _________________\ntests/test_llm_client_comprehensive.py:172: in test_openai_rate_limiting\n    with patch.object(llm_client.openai_client.chat.completions, 'create', side_effect=RateLimitError(\"Rate limit exceeded\", response=None, body=None)):\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'LLMClient' object has no attribute 'openai_client'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,545 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dcafd10>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,545 - llm_client - INFO - LLM client initialized with primary provider: openai\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4dcafd10>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: openai\n___________________ TestOllamaProvider.test_ollama_generate ____________________\ntests/test_llm_client_comprehensive.py:206: in test_ollama_generate\n    with patch('aiohttp.ClientSession.post') as mock_post:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1481: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/usr/lib/python3.13/pkgutil.py:513: in resolve_name\n    mod = importlib.import_module(modname)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1324: in _find_and_load_unlocked\n    ???\nE   ModuleNotFoundError: No module named 'aiohttp'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,550 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9a250>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,551 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9a250>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_______________ TestOllamaProvider.test_ollama_connection_error ________________\ntests/test_llm_client_comprehensive.py:227: in test_ollama_connection_error\n    with patch('aiohttp.ClientSession.post', side_effect=Exception(\"Connection error\")):\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1481: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/usr/lib/python3.13/pkgutil.py:513: in resolve_name\n    mod = importlib.import_module(modname)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1324: in _find_and_load_unlocked\n    ???\nE   ModuleNotFoundError: No module named 'aiohttp'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,591 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da99f20>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,591 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da99f20>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_________________ TestOllamaProvider.test_ollama_server_error __________________\ntests/test_llm_client_comprehensive.py:236: in test_ollama_server_error\n    with patch('aiohttp.ClientSession.post') as mock_post:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1481: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/usr/lib/python3.13/pkgutil.py:513: in resolve_name\n    mod = importlib.import_module(modname)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1324: in _find_and_load_unlocked\n    ???\nE   ModuleNotFoundError: No module named 'aiohttp'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,628 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da996a0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,628 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da996a0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n____________ TestProviderSelection.test_primary_provider_selection _____________\ntests/test_llm_client_comprehensive.py:254: in test_primary_provider_selection\n    assert client.primary_provider == \"openai\"\nE   AssertionError: assert 'ollama' == 'openai'\nE     \nE     - openai\nE     + ollama\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,663 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da99bf0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,663 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,663 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da99bf0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_______________ TestProviderSelection.test_provider_availability _______________\ntests/test_llm_client_comprehensive.py:265: in test_provider_availability\n    assert client_with_key._is_provider_available(\"openai\") == True\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'LLMClient' object has no attribute '_is_provider_available'\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,669 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da99370>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,669 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,669 - llm_client - INFO - LLM client initialized with primary provider: ollama\n2025-09-09 11:59:36,673 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,674 - llm_client - INFO - LLM client initialized with primary provider: openai\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da99370>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: openai\n_________________ TestProviderSelection.test_provider_fallback _________________\ntests/test_llm_client_comprehensive.py:280: in test_provider_fallback\n    with patch.object(client, '_call_ollama') as mock_ollama:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4db43890> does not have the attribute '_call_ollama'\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,680 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9abe0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,680 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,680 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9abe0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n___________ TestGenerationMethods.test_generate_with_request_object ____________\ntests/test_llm_client_comprehensive.py:305: in test_generate_with_request_object\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4db41310> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,709 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,709 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,709 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_____________ TestGenerationMethods.test_generate_with_parameters ______________\ntests/test_llm_client_comprehensive.py:327: in test_generate_with_parameters\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4dbd6ad0> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,739 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9aad0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,739 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,739 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9aad0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_______________ TestGenerationMethods.test_generate_with_context _______________\ntests/test_llm_client_comprehensive.py:348: in test_generate_with_context\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4dbd5f90> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,768 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,768 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,768 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_____________ TestStreamingGeneration.test_stream_generate_openai ______________\ntests/test_llm_client_comprehensive.py:386: in test_stream_generate_openai\n    with patch.object(llm_client.openai_client.chat.completions, 'create') as mock_create:\n                      ^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: 'LLMClient' object has no attribute 'openai_client'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,797 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9aad0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,798 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,798 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9aad0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_____________ TestStreamingGeneration.test_stream_generate_ollama ______________\ntests/test_llm_client_comprehensive.py:409: in test_stream_generate_ollama\n    with patch('aiohttp.ClientSession.post') as mock_post:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1481: in __enter__\n    self.target = self.getter()\n                  ^^^^^^^^^^^^^\n/usr/lib/python3.13/pkgutil.py:513: in resolve_name\n    mod = importlib.import_module(modname)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1324: in _find_and_load_unlocked\n    ???\nE   ModuleNotFoundError: No module named 'aiohttp'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,803 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,803 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,803 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da9ae00>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n____________________ TestErrorHandling.test_invalid_request ____________________\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connection.py:198: in _new_conn\n    sock = connection.create_connection(\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/util/connection.py:85: in create_connection\n    raise err\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/util/connection.py:73: in create_connection\n    sock.connect(sa)\nE   ConnectionRefusedError: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connectionpool.py:787: in urlopen\n    response = self._make_request(\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connectionpool.py:493: in _make_request\n    conn.request(\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connection.py:494: in request\n    self.endheaders()\n/usr/lib/python3.13/http/client.py:1333: in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n/usr/lib/python3.13/http/client.py:1093: in _send_output\n    self.send(msg)\n/usr/lib/python3.13/http/client.py:1037: in send\n    self.connect()\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connection.py:325: in connect\n    self.sock = self._new_conn()\n                ^^^^^^^^^^^^^^^^\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connection.py:213: in _new_conn\n    raise NewConnectionError(\nE   urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused\n\nThe above exception was the direct cause of the following exception:\n/home/ubuntu/.local/lib/python3.13/site-packages/requests/adapters.py:644: in send\n    resp = conn.urlopen(\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/connectionpool.py:841: in urlopen\n    retries = retries.increment(\n/home/ubuntu/.local/lib/python3.13/site-packages/urllib3/util/retry.py:519: in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n\nDuring handling of the above exception, another exception occurred:\ntests/test_llm_client_comprehensive.py:444: in test_invalid_request\n    await llm_client.generate(prompt=\"\")\nllm_client.py:394: in generate\n    return await provider.generate(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nllm_client.py:223: in generate\n    response = requests.post(\n/home/ubuntu/.local/lib/python3.13/site-packages/requests/api.py:115: in post\n    return request(\"post\", url, data=data, json=json, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/home/ubuntu/.local/lib/python3.13/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/home/ubuntu/.local/lib/python3.13/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/home/ubuntu/.local/lib/python3.13/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/home/ubuntu/.local/lib/python3.13/site-packages/requests/adapters.py:677: in send\n    raise ConnectionError(e, request=request)\nE   requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,842 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db61260>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,842 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,842 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db61260>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:36,843 - llm_client - ERROR - Ollama API error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,843 - llm_client - ERROR - Primary provider ollama failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n------------------------------ Captured log call -------------------------------\nERROR    llm_client:llm_client.py:250 Ollama API error: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\nERROR    llm_client:llm_client.py:396 Primary provider ollama failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n_________________ TestErrorHandling.test_provider_unavailable __________________\ntests/test_llm_client_comprehensive.py:450: in test_provider_unavailable\n    with patch.object(llm_client, '_is_provider_available', return_value=False):\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4db41310> does not have the attribute '_is_provider_available'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:36,988 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db60f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:36,988 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:36,988 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db60f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n____________________ TestErrorHandling.test_network_timeout ____________________\ntests/test_llm_client_comprehensive.py:457: in test_network_timeout\n    with patch.object(llm_client, '_call_openai', side_effect=asyncio.TimeoutError(\"Request timeout\")):\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4db43610> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:37,019 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff06ae6b570>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,019 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,019 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff06ae6b570>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n________________ TestErrorHandling.test_invalid_response_format ________________\ntests/test_llm_client_comprehensive.py:464: in test_invalid_response_format\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7ff06afc7610> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:37,049 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db61150>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,049 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,049 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db61150>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_________________ TestPerformance.test_generation_performance __________________\ntests/test_llm_client_comprehensive.py:484: in test_generation_performance\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4db41090> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:37,079 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff0798968b0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,080 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,080 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff0798968b0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n__________________ TestPerformance.test_concurrent_generation __________________\ntests/test_llm_client_comprehensive.py:501: in test_concurrent_generation\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7fef4db41310> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:37,110 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db61260>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,110 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,110 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db61260>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n__________________ TestPerformance.test_large_prompt_handling __________________\ntests/test_llm_client_comprehensive.py:525: in test_large_prompt_handling\n    with patch.object(llm_client, '_call_openai') as mock_openai:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1497: in __enter__\n    original, local = self.get_original()\n                      ^^^^^^^^^^^^^^^^^^^\n/usr/lib/python3.13/unittest/mock.py:1467: in get_original\n    raise AttributeError(\nE   AttributeError: <llm_client.LLMClient object at 0x7ff06afc7b10> does not have the attribute '_call_openai'\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:37,140 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff06ae6b570>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,140 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,140 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff06ae6b570>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_______________ TestIntegration.test_memory_manager_integration ________________\ntests/test_llm_client_comprehensive.py:569: in test_memory_manager_integration\n    assert \"Context from memory\" in context\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   TypeError: argument of type 'coroutine' is not iterable\n---------------------------- Captured stderr setup -----------------------------\n2025-09-09 11:59:37,170 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db60f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,170 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,170 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log setup ------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4db60f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:37,243 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu\n2025-09-09 11:59:37,243 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: all-MiniLM-L6-v2\n2025-09-09 11:59:37,568 - memory_manager - INFO - Memory manager initialized with persist directory: memory_db\n------------------------------ Captured log call -------------------------------\nINFO     sentence_transformers.SentenceTransformer:SentenceTransformer.py:219 Use pytorch device_name: cpu\nINFO     sentence_transformers.SentenceTransformer:SentenceTransformer.py:227 Load pretrained SentenceTransformer: all-MiniLM-L6-v2\nINFO     memory_manager:memory_manager.py:107 Memory manager initialized with persist directory: memory_db\n_____________ TestConfiguration.test_environment_variable_loading ______________\ntests/test_llm_client_comprehensive.py:622: in test_environment_variable_loading\n    assert hasattr(client, 'openai_api_key')\nE   AssertionError: assert False\nE    +  where False = hasattr(<llm_client.LLMClient object at 0x7fef4d885950>, 'openai_api_key')\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:37,576 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4d45b020>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,576 - llm_client - WARNING - Primary provider openai not available, using ollama\n2025-09-09 11:59:37,576 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4d45b020>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider openai not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n_______________ TestConfiguration.test_configuration_validation ________________\ntests/test_llm_client_comprehensive.py:628: in test_configuration_validation\n    with pytest.raises(ValueError):\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\nE   Failed: DID NOT RAISE <class 'ValueError'>\n----------------------------- Captured stderr call -----------------------------\n2025-09-09 11:59:37,581 - llm_client - WARNING - Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff0798968b0>: Failed to establish a new connection: [Errno 111] Connection refused'))\n2025-09-09 11:59:37,581 - llm_client - WARNING - Primary provider invalid_provider not available, using ollama\n2025-09-09 11:59:37,582 - llm_client - INFO - LLM client initialized with primary provider: ollama\n------------------------------ Captured log call -------------------------------\nWARNING  llm_client:llm_client.py:201 Failed to connect to Ollama: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/tags (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7ff0798968b0>: Failed to establish a new connection: [Errno 111] Connection refused'))\nWARNING  llm_client:llm_client.py:348 Primary provider invalid_provider not available, using ollama\nINFO     llm_client:llm_client.py:352 LLM client initialized with primary provider: ollama\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n============================= slowest 10 durations =============================\n0.40s call     tests/test_llm_client_comprehensive.py::TestIntegration::test_memory_manager_integration\n0.02s call     tests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_configuration\n0.01s call     tests/test_llm_client_comprehensive.py::TestProviderSelection::test_provider_availability\n0.01s setup    tests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_generate\n0.01s setup    tests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_rate_limiting\n0.01s setup    tests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_error_handling\n0.00s call     tests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_initialization\n0.00s setup    tests/test_llm_client_comprehensive.py::TestErrorHandling::test_provider_unavailable\n0.00s setup    tests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_parameters\n0.00s setup    tests/test_llm_client_comprehensive.py::TestErrorHandling::test_invalid_request\n=========================== short test summary info ============================\nFAILED tests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_initialization - AssertionError: assert False\n +  where False = hasattr(<llm_client.LLMClient object at 0x7fef4dba4ec0>, 'openai_client')\nFAILED tests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_configuration - AttributeError: 'LLMClient' object has no attribute 'openai_api_key'\nFAILED tests/test_llm_client_comprehensive.py::TestLLMClientCore::test_llm_client_providers - AssertionError: assert 'openai' in {'ollama': <llm_client.OllamaProvider object at 0x7fef4dbd5bd0>}\n +  where {'ollama': <llm_client.OllamaProvider object at 0x7fef4dbd5bd0>} = <llm_client.LLMClient object at 0x7fef4dbd5590>.providers\nFAILED tests/test_llm_client_comprehensive.py::TestLLMRequest::test_llm_request_defaults - AssertionError: assert 2000 == 1000\n +  where 2000 = LLMRequest(prompt='Test prompt', model=None, max_tokens=2000, temperature=0.7, system_message=None, functions=None, function_call=None).max_tokens\nFAILED tests/test_llm_client_comprehensive.py::TestLLMResponse::test_llm_response_defaults - pydantic_core._pydantic_core.ValidationError: 2 validation errors for LLMResponse\nmodel\n  Field required [type=missing, input_value={'content': 'Test content'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nprovider\n  Field required [type=missing, input_value={'content': 'Test content'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing\nFAILED tests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_generate - AttributeError: 'LLMClient' object has no attribute 'openai_client'\nFAILED tests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_error_handling - AttributeError: 'LLMClient' object has no attribute 'openai_client'\nFAILED tests/test_llm_client_comprehensive.py::TestOpenAIProvider::test_openai_rate_limiting - AttributeError: 'LLMClient' object has no attribute 'openai_client'\nFAILED tests/test_llm_client_comprehensive.py::TestOllamaProvider::test_ollama_generate - ModuleNotFoundError: No module named 'aiohttp'\nFAILED tests/test_llm_client_comprehensive.py::TestOllamaProvider::test_ollama_connection_error - ModuleNotFoundError: No module named 'aiohttp'\nFAILED tests/test_llm_client_comprehensive.py::TestOllamaProvider::test_ollama_server_error - ModuleNotFoundError: No module named 'aiohttp'\nFAILED tests/test_llm_client_comprehensive.py::TestProviderSelection::test_primary_provider_selection - AssertionError: assert 'ollama' == 'openai'\n  \n  - openai\n  + ollama\nFAILED tests/test_llm_client_comprehensive.py::TestProviderSelection::test_provider_availability - AttributeError: 'LLMClient' object has no attribute '_is_provider_available'\nFAILED tests/test_llm_client_comprehensive.py::TestProviderSelection::test_provider_fallback - AttributeError: <llm_client.LLMClient object at 0x7fef4db43890> does not have the attribute '_call_ollama'\nFAILED tests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_request_object - AttributeError: <llm_client.LLMClient object at 0x7fef4db41310> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_parameters - AttributeError: <llm_client.LLMClient object at 0x7fef4dbd6ad0> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestGenerationMethods::test_generate_with_context - AttributeError: <llm_client.LLMClient object at 0x7fef4dbd5f90> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestStreamingGeneration::test_stream_generate_openai - AttributeError: 'LLMClient' object has no attribute 'openai_client'\nFAILED tests/test_llm_client_comprehensive.py::TestStreamingGeneration::test_stream_generate_ollama - ModuleNotFoundError: No module named 'aiohttp'\nFAILED tests/test_llm_client_comprehensive.py::TestErrorHandling::test_invalid_request - requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/generate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fef4da98f30>: Failed to establish a new connection: [Errno 111] Connection refused'))\nFAILED tests/test_llm_client_comprehensive.py::TestErrorHandling::test_provider_unavailable - AttributeError: <llm_client.LLMClient object at 0x7fef4db41310> does not have the attribute '_is_provider_available'\nFAILED tests/test_llm_client_comprehensive.py::TestErrorHandling::test_network_timeout - AttributeError: <llm_client.LLMClient object at 0x7fef4db43610> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestErrorHandling::test_invalid_response_format - AttributeError: <llm_client.LLMClient object at 0x7ff06afc7610> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestPerformance::test_generation_performance - AttributeError: <llm_client.LLMClient object at 0x7fef4db41090> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestPerformance::test_concurrent_generation - AttributeError: <llm_client.LLMClient object at 0x7fef4db41310> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestPerformance::test_large_prompt_handling - AttributeError: <llm_client.LLMClient object at 0x7ff06afc7b10> does not have the attribute '_call_openai'\nFAILED tests/test_llm_client_comprehensive.py::TestIntegration::test_memory_manager_integration - TypeError: argument of type 'coroutine' is not iterable\nFAILED tests/test_llm_client_comprehensive.py::TestConfiguration::test_environment_variable_loading - AssertionError: assert False\n +  where False = hasattr(<llm_client.LLMClient object at 0x7fef4d885950>, 'openai_api_key')\nFAILED tests/test_llm_client_comprehensive.py::TestConfiguration::test_configuration_validation - Failed: DID NOT RAISE <class 'ValueError'>\n=================== 29 failed, 6 passed, 1 warning in 1.14s ====================\n",
      "stderr": "/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/unraisableexception.py:33: RuntimeWarning: coroutine 'MemoryManager.get_context_for_generation' was never awaited\n  gc.collect()\nRuntimeWarning: Enable tracemalloc to get the object allocation traceback\n"
    },
    {
      "name": "Tool Manager Comprehensive",
      "file": "tests/test_tool_manager_comprehensive.py",
      "category": "unit",
      "status": "FAILED",
      "duration": 4.153475284576416,
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "returncode": 2,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n__________ ERROR collecting tests/test_tool_manager_comprehensive.py ___________\nImportError while importing test module '/workspace/tests/test_tool_manager_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/python.py:498: in importtestmodule\n    mod = import_path(\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests/test_tool_manager_comprehensive.py:15: in <module>\n    from tool_manager import (\nE   ImportError: cannot import name 'ToolExecutionError' from 'tool_manager' (/workspace/tool_manager.py)\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nERROR tests/test_tool_manager_comprehensive.py\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n========================= 1 warning, 1 error in 0.10s ==========================\n",
      "stderr": ""
    },
    {
      "name": "Agent Manager Comprehensive",
      "file": "tests/test_agent_manager_comprehensive.py",
      "category": "unit",
      "status": "FAILED",
      "duration": 4.177206039428711,
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "returncode": 2,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n__________ ERROR collecting tests/test_agent_manager_comprehensive.py __________\nImportError while importing test module '/workspace/tests/test_agent_manager_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/python.py:498: in importtestmodule\n    mod = import_path(\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests/test_agent_manager_comprehensive.py:15: in <module>\n    from agent_manager import (\nE   ImportError: cannot import name 'Agent' from 'agent_manager' (/workspace/agent_manager.py)\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nERROR tests/test_agent_manager_comprehensive.py\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n========================= 1 warning, 1 error in 0.10s ==========================\n",
      "stderr": ""
    },
    {
      "name": "System Integration Comprehensive",
      "file": "tests/test_system_integration_comprehensive.py",
      "category": "integration",
      "status": "FAILED",
      "duration": 4.347766637802124,
      "passed": 0,
      "failed": 0,
      "skipped": 0,
      "errors": 0,
      "total": 0,
      "returncode": 2,
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python3\ncachedir: .pytest_cache\nrootdir: /workspace\nconfigfile: pyproject.toml\nplugins: anyio-4.10.0, asyncio-1.1.0, mock-3.15.0\nasyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 0 items / 1 error\n\n==================================== ERRORS ====================================\n_______ ERROR collecting tests/test_system_integration_comprehensive.py ________\nImportError while importing test module '/workspace/tests/test_system_integration_comprehensive.py'.\nHint: make sure your test modules/packages have valid Python names.\nTraceback:\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/python.py:498: in importtestmodule\n    mod = import_path(\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/pathlib.py:587: in import_path\n    importlib.import_module(module_name)\n/usr/lib/python3.13/importlib/__init__.py:88: in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n<frozen importlib._bootstrap>:1387: in _gcd_import\n    ???\n<frozen importlib._bootstrap>:1360: in _find_and_load\n    ???\n<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked\n    ???\n<frozen importlib._bootstrap>:935: in _load_unlocked\n    ???\n/home/ubuntu/.local/lib/python3.13/site-packages/_pytest/assertion/rewrite.py:186: in exec_module\n    exec(co, module.__dict__)\ntests/test_system_integration_comprehensive.py:20: in <module>\n    from agent_manager import AgentManager, Agent, AgentTask, TaskPriority\nE   ImportError: cannot import name 'Agent' from 'agent_manager' (/workspace/agent_manager.py)\n=============================== warnings summary ===============================\n../home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21\n  /home/ubuntu/.local/lib/python3.13/site-packages/PyPDF2/__init__.py:21: DeprecationWarning: PyPDF2 is deprecated. Please move to the pypdf library instead.\n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nERROR tests/test_system_integration_comprehensive.py\n!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!\n========================= 1 warning, 1 error in 0.10s ==========================\n",
      "stderr": ""
    }
  ],
  "summary": {
    "total_tests": 172,
    "passed": 141,
    "failed": 29,
    "skipped": 2,
    "errors": 0,
    "success_rate": 82.94117647058825,
    "total_duration": 58.21032524108887,
    "test_suites": 10
  },
  "recommendations": [
    {
      "priority": "high",
      "category": "reliability",
      "issue": "Moderate Success Rate",
      "solution": "Review and fix failing tests. Add comprehensive error handling tests.",
      "impact": "functionality"
    },
    {
      "priority": "high",
      "category": "testing",
      "issue": "Failed Test Suite: GUI Comprehensive",
      "solution": "Review and fix issues in tests/test_gui_comprehensive.py. Check error messages for specific problems.",
      "impact": "testing"
    },
    {
      "priority": "high",
      "category": "testing",
      "issue": "Failed Test Suite: LLM Client Comprehensive",
      "solution": "Review and fix issues in tests/test_llm_client_comprehensive.py. Check error messages for specific problems.",
      "impact": "testing"
    },
    {
      "priority": "high",
      "category": "testing",
      "issue": "Failed Test Suite: Tool Manager Comprehensive",
      "solution": "Review and fix issues in tests/test_tool_manager_comprehensive.py. Check error messages for specific problems.",
      "impact": "testing"
    },
    {
      "priority": "high",
      "category": "testing",
      "issue": "Failed Test Suite: Agent Manager Comprehensive",
      "solution": "Review and fix issues in tests/test_agent_manager_comprehensive.py. Check error messages for specific problems.",
      "impact": "testing"
    },
    {
      "priority": "high",
      "category": "testing",
      "issue": "Failed Test Suite: System Integration Comprehensive",
      "solution": "Review and fix issues in tests/test_system_integration_comprehensive.py. Check error messages for specific problems.",
      "impact": "testing"
    },
    {
      "priority": "medium",
      "category": "testing",
      "issue": "Missing Test Coverage: book_workflow, error_handling, performance",
      "solution": "Add comprehensive tests for missing features.",
      "impact": "quality"
    },
    {
      "priority": "low",
      "category": "documentation",
      "issue": "Test Documentation",
      "solution": "Add comprehensive test documentation and examples.",
      "impact": "maintainability"
    },
    {
      "priority": "medium",
      "category": "automation",
      "issue": "Continuous Integration",
      "solution": "Set up automated testing pipeline for continuous validation.",
      "impact": "development"
    },
    {
      "priority": "low",
      "category": "monitoring",
      "issue": "Test Monitoring",
      "solution": "Add test result monitoring and alerting for failures.",
      "impact": "reliability"
    }
  ],
  "performance_metrics": {
    "total_duration": 58.21032524108887,
    "average_duration_per_suite": 5.821032524108887,
    "slowest_suite": "Memory Manager Comprehensive",
    "fastest_suite": "Document Ingestor Comprehensive",
    "slow_test_count": 0,
    "performance_categories": {
      "excellent": 6,
      "good": 4,
      "acceptable": 0,
      "slow": 0,
      "very_slow": 0
    }
  },
  "coverage_analysis": {
    "total_modules_tested": 8,
    "modules_covered": [
      "memory_manager",
      "llm_client",
      "tool_manager",
      "agent_manager",
      "document_ingestor",
      "book_workflow",
      "gui",
      "cli"
    ],
    "modules_missing": [],
    "test_categories": {
      "unit_tests": 0,
      "integration_tests": 0,
      "system_tests": 0,
      "performance_tests": 0
    },
    "feature_coverage": {
      "core_functionality": true,
      "memory_management": true,
      "llm_integration": true,
      "tool_management": true,
      "agent_coordination": true,
      "document_processing": true,
      "gui_functionality": true,
      "book_workflow": false,
      "error_handling": false,
      "performance": false
    }
  }
}